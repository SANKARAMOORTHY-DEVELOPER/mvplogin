(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[260],{8030:function(e,r,s){"use strict";s.d(r,{A:function(){return f},U:function(){return p}});var n=s(4942),t=s(1163),a=s(7536),i=s(8834),c=s(9501),o=s(8777),l=s(7439),d=s(5893);function u(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),s.push.apply(s,n)}return s}function m(e){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{};r%2?u(Object(s),!0).forEach((function(r){(0,n.Z)(e,r,s[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))}))}return e}function f(e){var r,s,n,u,f=null===e||void 0===e?void 0:e.user,p=!f,h=(0,t.useRouter)(),v=c.Ry().shape({firstName:c.Z_().required("First Name is required"),lastName:c.Z_().required("Last Name is required"),username:c.Z_().required("Username is required"),password:c.Z_().transform((function(e){return""===e?void 0:e})).concat(p?c.Z_().required("Password is required"):null).min(6,"Password must be at least 6 characters")}),b={resolver:(0,i.X)(v)};p||(b.defaultValues=e.user);var j=(0,a.cI)(b),N=j.register,x=j.handleSubmit,w=j.reset,g=j.formState,y=g.errors;return(0,d.jsxs)("form",{onSubmit:x((function(e){return p?function(e){return l.W4.register(e).then((function(){l.Ak.success("User added",{keepAfterRouteChange:!0}),h.push(".")})).catch(l.Ak.error)}(e):function(e,r){return l.W4.update(e,r).then((function(){l.Ak.success("User updated",{keepAfterRouteChange:!0}),h.push("..")})).catch(l.Ak.error)}(f.id,e)})),children:[(0,d.jsxs)("div",{className:"form-row",children:[(0,d.jsxs)("div",{className:"form-group col",children:[(0,d.jsx)("label",{children:"First Name"}),(0,d.jsx)("input",m(m({name:"firstName",type:"text"},N("firstName")),{},{className:"form-control ".concat(y.firstName?"is-invalid":"")})),(0,d.jsx)("div",{className:"invalid-feedback",children:null===(r=y.firstName)||void 0===r?void 0:r.message})]}),(0,d.jsxs)("div",{className:"form-group col",children:[(0,d.jsx)("label",{children:"Last Name"}),(0,d.jsx)("input",m(m({name:"lastName",type:"text"},N("lastName")),{},{className:"form-control ".concat(y.lastName?"is-invalid":"")})),(0,d.jsx)("div",{className:"invalid-feedback",children:null===(s=y.lastName)||void 0===s?void 0:s.message})]})]}),(0,d.jsxs)("div",{className:"form-row",children:[(0,d.jsxs)("div",{className:"form-group col",children:[(0,d.jsx)("label",{children:"Username"}),(0,d.jsx)("input",m(m({name:"username",type:"text"},N("username")),{},{className:"form-control ".concat(y.username?"is-invalid":"")})),(0,d.jsx)("div",{className:"invalid-feedback",children:null===(n=y.email)||void 0===n?void 0:n.message})]}),(0,d.jsxs)("div",{className:"form-group col",children:[(0,d.jsxs)("label",{children:["Password",!p&&(0,d.jsx)("em",{className:"ml-1",children:"(Leave blank to keep the same password)"})]}),(0,d.jsx)("input",m(m({name:"password",type:"password"},N("password")),{},{className:"form-control ".concat(y.password?"is-invalid":"")})),(0,d.jsx)("div",{className:"invalid-feedback",children:null===(u=y.password)||void 0===u?void 0:u.message})]})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsxs)("button",{type:"submit",disabled:g.isSubmitting,className:"btn btn-primary mr-2",children:[g.isSubmitting&&(0,d.jsx)("span",{className:"spinner-border spinner-border-sm mr-1"}),"Save"]}),(0,d.jsx)("button",{onClick:function(){return w(b.defaultValues)},type:"button",disabled:g.isSubmitting,className:"btn btn-secondary",children:"Reset"}),(0,d.jsx)(o.rU,{href:"/users",className:"btn btn-link",children:"Cancel"})]})]})}function p(e){var r=e.children;return(0,d.jsx)("div",{className:"p-4",children:(0,d.jsx)("div",{className:"container",children:r})})}},4972:function(e,r,s){"use strict";s.r(r);var n=s(8030),t=s(5893);r.default=function(){return(0,t.jsxs)(n.U,{children:[(0,t.jsx)("h1",{children:"Add User"}),(0,t.jsx)(n.A,{})]})}},9225:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users/add",function(){return s(4972)}])}},function(e){e.O(0,[752,774,888,179],(function(){return r=9225,e(e.s=r);var r}));var r=e.O();_N_E=r}]);