(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[352],{8030:function(e,r,s){"use strict";s.d(r,{A:function(){return f},U:function(){return p}});var n=s(4942),t=s(1163),a=s(7536),i=s(8834),c=s(9501),o=s(8777),l=s(7439),u=s(5893);function d(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),s.push.apply(s,n)}return s}function m(e){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{};r%2?d(Object(s),!0).forEach((function(r){(0,n.Z)(e,r,s[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))}))}return e}function f(e){var r,s,n,d,f=null===e||void 0===e?void 0:e.user,p=!f,h=(0,t.useRouter)(),v=c.Ry().shape({firstName:c.Z_().required("First Name is required"),lastName:c.Z_().required("Last Name is required"),username:c.Z_().required("Username is required"),password:c.Z_().transform((function(e){return""===e?void 0:e})).concat(p?c.Z_().required("Password is required"):null).min(6,"Password must be at least 6 characters")}),b={resolver:(0,i.X)(v)};p||(b.defaultValues=e.user);var j=(0,a.cI)(b),N=j.register,x=j.handleSubmit,g=j.reset,w=j.formState,y=w.errors;return(0,u.jsxs)("form",{onSubmit:x((function(e){return p?function(e){return l.W4.register(e).then((function(){l.Ak.success("User added",{keepAfterRouteChange:!0}),h.push(".")})).catch(l.Ak.error)}(e):function(e,r){return l.W4.update(e,r).then((function(){l.Ak.success("User updated",{keepAfterRouteChange:!0}),h.push("..")})).catch(l.Ak.error)}(f.id,e)})),children:[(0,u.jsxs)("div",{className:"form-row",children:[(0,u.jsxs)("div",{className:"form-group col",children:[(0,u.jsx)("label",{children:"First Name"}),(0,u.jsx)("input",m(m({name:"firstName",type:"text"},N("firstName")),{},{className:"form-control ".concat(y.firstName?"is-invalid":"")})),(0,u.jsx)("div",{className:"invalid-feedback",children:null===(r=y.firstName)||void 0===r?void 0:r.message})]}),(0,u.jsxs)("div",{className:"form-group col",children:[(0,u.jsx)("label",{children:"Last Name"}),(0,u.jsx)("input",m(m({name:"lastName",type:"text"},N("lastName")),{},{className:"form-control ".concat(y.lastName?"is-invalid":"")})),(0,u.jsx)("div",{className:"invalid-feedback",children:null===(s=y.lastName)||void 0===s?void 0:s.message})]})]}),(0,u.jsxs)("div",{className:"form-row",children:[(0,u.jsxs)("div",{className:"form-group col",children:[(0,u.jsx)("label",{children:"Username"}),(0,u.jsx)("input",m(m({name:"username",type:"text"},N("username")),{},{className:"form-control ".concat(y.username?"is-invalid":"")})),(0,u.jsx)("div",{className:"invalid-feedback",children:null===(n=y.email)||void 0===n?void 0:n.message})]}),(0,u.jsxs)("div",{className:"form-group col",children:[(0,u.jsxs)("label",{children:["Password",!p&&(0,u.jsx)("em",{className:"ml-1",children:"(Leave blank to keep the same password)"})]}),(0,u.jsx)("input",m(m({name:"password",type:"password"},N("password")),{},{className:"form-control ".concat(y.password?"is-invalid":"")})),(0,u.jsx)("div",{className:"invalid-feedback",children:null===(d=y.password)||void 0===d?void 0:d.message})]})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsxs)("button",{type:"submit",disabled:w.isSubmitting,className:"btn btn-primary mr-2",children:[w.isSubmitting&&(0,u.jsx)("span",{className:"spinner-border spinner-border-sm mr-1"}),"Save"]}),(0,u.jsx)("button",{onClick:function(){return g(b.defaultValues)},type:"button",disabled:w.isSubmitting,className:"btn btn-secondary",children:"Reset"}),(0,u.jsx)(o.rU,{href:"/users",className:"btn btn-link",children:"Cancel"})]})]})}function p(e){var r=e.children;return(0,u.jsx)("div",{className:"p-4",children:(0,u.jsx)("div",{className:"container",children:r})})}},7495:function(e,r,s){"use strict";s.r(r),s.d(r,{__N_SSP:function(){return o}});var n=s(7294),t=s(8030),a=s(8777),i=s(7439),c=s(5893),o=!0;r.default=function(e){var r=e.id,s=(0,n.useState)(null),o=s[0],l=s[1];return(0,n.useEffect)((function(){i.W4.getById(r).then((function(e){return l(e)})).catch(i.Ak.error)}),[]),(0,c.jsxs)(t.U,{children:[(0,c.jsx)("h1",{children:"Edit User"}),o?(0,c.jsx)(t.A,{user:o}):(0,c.jsx)(a.$j,{})]})}},2822:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users/edit/[id]",function(){return s(7495)}])}},function(e){e.O(0,[752,774,888,179],(function(){return r=2822,e(e.s=r);var r}));var r=e.O();_N_E=r}]);